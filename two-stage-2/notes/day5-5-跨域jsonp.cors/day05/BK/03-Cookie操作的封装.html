<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        //Cookie操作的封装
        //理想的调用方式：Cookie.getItem() Cookie.setItem() Cookie.removeItem() Cookie.clear()
        let Cookie = {
            getItem(name) {
                let cookies = document.cookie.split("; ");

                //注意：在forEach方法中不能使用return语句
                // cookies.forEach(ele => {
                //     let arr = ele.split("=");
                //     console.log(arr[0], name);
                //     if (name == arr[0]) {
                //         console.log("------");
                //         return arr[1];
                //     }
                // });
                for (let i = 0; i < cookies.length; i++) {
                    let arr = cookies[i].split("=");
                    if (name == arr[0]) return arr[1];
                }
            },
            setItem(name, value, days) {
                if (days) {
                    var date = new Date();
                    date.setDate(date.getDate() + days);
                    document.cookie = `${name}=${value};expires=${date}`;
                } else {
                    document.cookie = `${name}=${value}`;
                }
            },
            removeItem(name) {
                this.setItem(name, null, -1);
            },
            hasItem(name) {
                let keys = this.keys();
                let flas = false;
                if (keys) {
                    flas = keys.includes(name);
                }
                return flas;
            },
            clear() {
                let keys = this.keys();
                keys.forEach(ele => {
                    this.removeItem(ele);
                })
            },
            keys() {
                let result = [];
                let cookies = document.cookie.split("; ");
                cookies.forEach(ele => {
                    let arr = ele.split("=");
                    result.push(arr[0]);
                });
                return result;
            }
        }

        console.log(Cookie.getItem("name"));
        console.log(Cookie.getItem("age"));
    </script>
</body>

</html>